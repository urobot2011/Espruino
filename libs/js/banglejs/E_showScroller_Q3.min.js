(function(d){function h(b){return Math.floor((b+e-a.y)/d.h)}Bangle.setUI();if(d){var f=0,e=0,a=Bangle.appRect,k=d.h*d.c-a.h;(function(){g.reset().clearRect(a.x,a.y,a.x2,a.y2);g.setClipRect(a.x,a.y,a.x2,a.y2);for(var b=h(a.y),c=Math.min(h(a.y2),d.c-1);b<=c;b++)d.draw(b,{x:a.x,y:b*d.h+a.y-e,w:a.w,h:d.h});g.setClipRect(0,0,g.getWidth()-1,g.getHeight()-1)})();g.flip();Bangle.dragHandler=b=>{var c=b.dy;f-c>k&&(c=f-k);0>f-c&&(c=f);f-=c;c=e;e=f&-2;if(c-=e){g.reset().setClipRect(a.x,
a.y,a.x2,a.y2);g.scroll(0,c);b=b.dy;if(0>b)for(g.setClipRect(a.x,a.y2-(1-b),a.x2,a.y2),b=h(a.y2-(1-b)),c=b*d.h+a.y-e;c<a.y2;)d.draw(b,{x:a.x,y:c,w:a.w,h:d.h}),b++,c+=d.h;else for(g.setClipRect(a.x,a.y,a.x2,a.y+b),b=h(a.y+b),c=b*d.h+a.y-e;c>a.y-d.h;)d.draw(b,{x:a.x,y:c,w:a.w,h:d.h}),c-=d.h,b--;g.setClipRect(0,0,g.getWidth()-1,g.getHeight()-1)}};Bangle.on("drag",Bangle.dragHandler);Bangle.touchHandler=(b,c)=>{c.y<a.y-4||(b=h(c.y),0<=b&&b<d.c&&d.select(b))};Bangle.on("touch",Bangle.touchHandler)}})